# Volition CLI Modernization & Polish TODO

This list outlines suggestions to enhance the user experience and modern feel of the `volition-cli` crate, based on the review on [Date - you can fill this in].

## Interactivity & Feedback

-   [ ] **Add Progress Indicators:** Use `indicatif` to show spinners during potentially long operations like `agent.run()`. This provides feedback that the application is working rather than stalled.
    -   Target: `run_interactive`, `run_single_turn` before `agent.run().await`.
    -   Crate: `indicatif`
-   [ ] **Improve Prompts & Confirmations:** Replace basic `stdin` reading for confirmations (like in `handle_delete_conversation`) and potentially user prompts (`CliUserInteraction::ask`) with a dedicated library for a smoother experience.
    -   Target: `handle_delete_conversation`, `CliUserInteraction::ask`.
    -   Crates: `dialoguer` or `inquire`.
-   [ ] **(Optional) Implement REPL-like Input:** For the interactive chat mode, consider using `rustyline` to provide command history (up/down arrows), better line editing, and potentially tab-completion hooks.
    -   Target: Replace `io::stdin().read_line()` loop in `run_interactive`.
    -   Crate: `rustyline`.

## Output Formatting

-   [ ] **Use Tables for Lists:** Refactor `handle_list_conversations` to use a table crate for displaying the list of histories. This ensures better alignment and readability.
    -   Target: `handle_list_conversations`.
    -   Crates: `comfy-table` or `cli-table`.
-   [ ] **Review Output Coloring:** Ensure consistent and meaningful use of color (`colored`) for prompts, roles (User/Agent), status messages, and errors throughout the application.
    -   Target: Various `println!` and `eprintln!` calls.
    -   Crate: `colored`.
-   [ ] **Refine Agent Response Rendering:** Ensure the `termimad`/`syntect` rendering in `print_formatted` handles various markdown elements gracefully and looks clean in the terminal. Test with different types of responses.
    -   Target: `rendering::print_formatted`.
    -   Crates: `termimad`, `syntect`.

## Developer/User Ergonomics

-   [ ] **Generate Shell Completions:** Add support for generating shell completion scripts (Bash, Zsh, Fish, etc.) using `clap_complete`. This can be done via a `build.rs` script or a dedicated subcommand.
    -   Target: New `build.rs` or add subcommand logic in `main.rs`/`models/cli.rs`.
    -   Crate: `clap_complete`.
-   [ ] **Enhance Help Messages:** Review and improve the help messages generated by `clap`. Use `long_about`, `after_help` for examples, ensure clear `value_name`s, and check overall clarity of `volition --help` and `volition <subcommand> --help`.
    -   Target: `Cli` struct and `Commands` enum in `models/cli.rs`.
    -   Crate: `clap`.
-   [ ] **Refine Error Reporting:** Improve user-facing error messages (`eprintln!`). Instead of just printing the `anyhow` error chain, try to catch specific error types or contexts to provide more actionable feedback for common issues (e.g., config not found, API errors). Distinguish user-facing errors from detailed logs.
    -   Target: `main` function's final `Err` handling, potentially introduce custom errors with `thiserror`.
    -   Crates: `anyhow`, potentially `thiserror`.
